FROM python:3.9-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir flask requests

# Copy mock services
COPY services/ /app/services/

# Make scripts executable
RUN chmod +x /app/services/*.py

# Expose ports
EXPOSE 8080 8081

# Startup script
COPY docker/entrypoint-mock-service.sh /entrypoint.sh
RUN chmod +x /entrypoint.sh

ENTRYPOINT ["/entrypoint.sh"]
